{%- style -%}
.logo-bar--{{ section.id }} {
  opacity: {{ section.settings.logo_opacity | divided_by: 100.0 }};
}
{%- endstyle -%}

<div class="index-section{% if section.settings.alt %} index-section--alt{% endif %}" style="background-color: {{ section.settings.bg_color }}; {% if section.settings.top_margin == true %}margin-top: 0;{% endif %} {% if section.settings.bot_margin == true %}margin-bottom: 0;{% endif %}">

  <div class="page-width no-padding--mobile" data-aos="logo__animation">
    {%- if section.settings.title != blank -%}
      <header class="section-header" data-aos>
        <h2 class="section-header__title appear-delay">
          {{ section.settings.title | escape }}
        </h2>
      </header>
    {%- endif -%}

    {%- if section.blocks.size > 0 -%}
      <div class="logo-columns appear-delay-2">
        <div class="logo-column">
          <h4>{{ section.settings.left_col }}</h4>
          <div class="logo-item-wrapper custom-slick">
          {%- for block in section.blocks -%}
            {%- if block.settings.column_selection == "left" -%}
              <div class="logo-text-wrapper appear-delay{% cycle '','-2','-4','-8','-10' %}">
                <div class="logo-wrapper">
                  <img src="{{ block.settings.image | img_url: 'master' }}" />
                </div>
                <h5>{{ block.settings.text }}</h5>
              </div>
            {%- endif -%}
          {%- endfor -%}
          </div>
        </div>
        <div class="logo-column">
          <h4>{{ section.settings.right_col }}</h4>
          <div class="logo-item-wrapper custom-slick">
          {%- for block in section.blocks -%}
            {%- if block.settings.column_selection == "right" -%}
              <div class="logo-text-wrapper appear-delay{% cycle '','-2','-4','-8','-10' %}">
                <div class="logo-wrapper">
                  <img src="{{ block.settings.image | img_url: 'master' }}" />
                </div>
                <h5>{{ block.settings.text }}</h5>
              </div>
            {%- endif -%}
          {%- endfor -%}
          </div>
        </div>
      </div>
    {%- endif -%}
  </div>

</div>

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 250"><path fill="{{ section.settings.bg_color }}" fill-opacity="1" d="M0,96L60,112C120,128,240,160,360,149.3C480,139,600,85,720,90.7C840,96,960,160,1080,181.3C1200,203,1320,181,1380,170.7L1440,160L1440,0L1380,0C1320,0,1200,0,1080,0C960,0,840,0,720,0C600,0,480,0,360,0C240,0,120,0,60,0L0,0Z"></path></svg>

{% schema %}
  {
    "name": "Logo list with 2 Columns",
    "max_blocks": 10,
    "settings": [
      {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Heading"
      },
      {
        "type": "text",
        "id": "left_col",
        "label": "Left Column Name"
      },
      {
        "type": "text",
        "id": "right_col",
        "label": "Right Column Name"
      },
      {
        "type": "range",
        "id": "logo_opacity",
        "label": "Logo opacity",
        "default": 76,
        "min": 0,
        "max": 100,
        "step": 2,
        "unit": "%"
      },
      {
        "type": "checkbox",
        "id": "top_margin",
        "label": "Remove top margin"
      },
      {
        "type": "checkbox",
        "id": "bot_margin",
        "label": "Remove bottom margin"
      },
      {
        "type": "checkbox",
        "id": "alt",
        "label": "Use alternate section color"
      }
    ],
    "blocks": [
      {
        "type": "logo_image",
        "name": "Icon and text",
        "settings": [
          {
            "type": "select",
            "id": "column_selection",
            "label": "Left or Right Column",
            "options": [
              {
                "value": "left",
                "label": "Left"
              },
              {
                "value": "right",
                "label": "Right"
              }
            ],
            "default": "left"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "Icon image"
          },
          {
            "type": "text",
            "id": "text",
            "label": "Text"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Link",
            "info": "Optional"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Logo list with 2 Columns",
        "category": "Image",
        "blocks": [
          {
            "type": "logo_image"
          },
          {
            "type": "logo_image"
          },
          {
            "type": "logo_image"
          },
          {
            "type": "logo_image"
          }
        ]
      }
    ]
  }
{% endschema %}
